Ref link : https://developer.hashicorp.com/terraform/cli/workspaces


Commands:

terraform workspace list ( * default )
terraform workspace select <prod> [ to set prod as default workspace ]
terraform workspace new <prod>
terraform workspace delete <prod>



---------------------------------------------------------------------------------


1.git clone <url>   [ url : prod.tfvars & dev.tfvars ]
2. terraform workspace list [ initially default will be there ]
3. create env folders [ prod & dev ]  [ first create terraform.tfstate.d and inside that prod & dev gets created ]
3a. terraform workspace new prod 
3b. terraform workspace new dev

Path: terrform.tfstate.d/prod/terrform.tfstate  & terrform.tfstate.d/dev/terrform.tfstate

4. terraform workspace select prod [ set prod as default before applying ]
   (or) terraform workspace select dev [ if you choose dev as your env ]
 
5.terraform init
6.terraform plan -var-file="prod.tfvars" [ you can see reflect here ]
   
 Note: var file extension should be: env.tfvars [ ex: prod.tfvars ]  
   
7. terraform apply -var-file="prod.tfvars"    [ tfstate file will get saved in prod.tfvars ]  ( or )
   terraform apply -var-file="dev.tfvars" [ tfstate file gets saved in dev.tfvars ]



pupose of creating workspace:
you can use single code on multiple environment.
